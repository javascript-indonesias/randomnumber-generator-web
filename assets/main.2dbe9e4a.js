function t(t,e){const s=Math.ceil(t),a=Math.floor(e);return Math.floor(Math.random()*(a-s+1)+s)}const e={init(){this.isToastShow=!1,this.toastElement=document.querySelector("#toasts")},showToast(t=""){!1===this.isToastShow&&(this.toastElement.innerText=t,this.toastElement.classList.add("show"),this.isToastShow=!0,setTimeout((()=>{this.toastElement.classList.remove("show"),this.isToastShow=!1}),2800))}};function s(t){t.classList.add("hide-element")}({init(){this.startRangeEl=document.querySelector("#input-start-range"),this.endRangeEl=document.querySelector("#input-end-range"),this.maxDataResultEl=document.querySelector("#input-maxresult"),this.buttonRandomEl=document.querySelector(".action-button"),this.h3FooterEl=document.querySelector(".footer h3"),this.resultListDiv=document.querySelector(".result-list"),this.cardResultEl=document.querySelector(".card-result"),this.dataInput={lowerlimit:1,upperlimit:4,maxcount:1},e.init(),this.initListenerButton(),this.setDateFooter(),s(this.cardResultEl)},initListenerButton(){this.buttonRandomEl.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.checkDataInput()})),this.h3FooterEl.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.openPageAbout()}))},setDateFooter(){const t=(new Date).getFullYear();this.h3FooterEl.innerHTML=`Gulajava &copy; ${t} - Random Number Generator`},checkDataInput(){s(this.cardResultEl);const t=Number.parseInt(this.startRangeEl.value,10),e=Number.parseInt(this.endRangeEl.value,10),a=Number.parseInt(this.maxDataResultEl.value,10);let i=0,o=!1,r=!1;const n=e-t+1;switch(t&&t>0&&(i+=1),e&&e>2&&(i+=3),a&&a>0&&a<=n&&(i+=5),o=a>n,t>e&&(r=!0),i){case 0:this.showToaster("Fill all available field");break;case 1:this.showToaster("Fill upper limit and result count");break;case 3:this.showToaster("Fill lower limit and result count");break;case 5:this.showToaster("Fill lower and upper limit");break;case 4:r?this.showToaster("lower limit is larger than upper limit"):o?this.showToaster("Result count too large"):this.showToaster("Fill result count");break;case 6:this.showToaster("Fill upper limit");break;case 8:this.showToaster("Fill lower limit");break;case 9:this.dataInput.lowerlimit=t,this.dataInput.upperlimit=e,this.dataInput.maxcount=a,this.generateNumber()}},async generateNumber(){const e=await async function({lowerlimit:e=1,upperlimit:s=4,maxcount:a=1}){return new Promise((i=>{const o=[];let r=0,n=!1;for(;r<a;){const a=t(e,s),i=o.length;for(let t=0;t<i;t+=1){if(a===o[t]){n=!0;break}n=!1}n||(o.push(a),r+=1)}i(o)}))}(this.dataInput);this.setResultData(e)},async setResultData(t){const e=await(async(t=[])=>{const e=[];t.forEach((t=>{const s=`<div class="number-result-container">${t}</div>`,a=document.createElement("li");a.innerHTML=s,e.push(a)}));const s=document.createElement("ul");return s.append(...e),s})(t);this.resultListDiv.innerHTML="",this.resultListDiv.appendChild(e),this.cardResultEl.classList.remove("hide-element")},openPageAbout(){const t=document.createElement("a");t.href="https://github.com/javascript-indonesias/random-numbergenerator",t.target="_blank",t.setAttribute("rel","noopener noreferrer"),t.click()},showToaster(t=""){e.showToast(t)}}).init();
